<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Decision View: Contract <%=@contract_id %></h1>
    <button>Accept</button>
    <button>Reject</button>

    <script>
      function fetchPdfData(){
        let data = {"contracts": '[<%= @contract_id %>]'}
        console.log(data);
        fetch("/contracts/print", {
          headers: {
            Accept: 'application/json',
            'Content-Type': 'application/json; charset=utf-8',
          },
          method: 'POST',
          body: JSON.stringify(data),
        }).then(function(response) {
          return response.blob();
        }).then(function(response) {
          var fileURL = URL.createObjectURL(response);
          <embed ng-src=fileURL style="width:200px;height:200px;"></embed> 
          //window.open(fileURL);
        });
      }
      fetchPdfData();
    </script>
  </body>
</html>
